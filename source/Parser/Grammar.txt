variableAssign : complexVariable WS* ':=' WS* expression ;

complexVariable 
    : (this '.')? variableOrFunction '.' variable
    | (this '.')? variableOrFunction WS* '[' WS* expression WS* ']'
    | (this '.')? variable ;


variableOrFunction
    : variable
    | functionCall
    | variableOrFunction '.' variableOrFunction
    | variableOrFunction WS* '[' WS* expression WS* ']' ;

variable : NAME ;

functionCall : NAME WS* '(' WS* expression? (CRLFWS* ',' WS* expression)* WS* ')' ;

WS : '\t' | ' ' ;
CRLF : '\r' | '\n' ;
CRLFWS : CRLF | WS ;